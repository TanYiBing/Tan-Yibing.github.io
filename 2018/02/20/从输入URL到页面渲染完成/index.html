<!DOCTYPE html>
<html>
<head>
    

    

    



    <meta charset="utf-8">
    
    
    
    <title>从输入URL到页面渲染完成 | Icon&#39;s blog | Tan Yibing&#39;s blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="URL,HTTP,服务器,计算机网络,前端">
    <meta name="description" content="转载自www.chauncywu.com 从输入URL到页面渲染完成原文-英文译文  推荐阅读《图解HTTP》  各种协议与HTTP协议的关系(参照该图理解下文)                                                                                             0-1              1. 输入URL地">
<meta name="keywords" content="URL,HTTP,服务器,计算机网络,前端">
<meta property="og:type" content="article">
<meta property="og:title" content="从输入URL到页面渲染完成">
<meta property="og:url" content="http://tanyibing.com/2018/02/20/从输入URL到页面渲染完成/index.html">
<meta property="og:site_name" content="Icon&#39;s blog">
<meta property="og:description" content="转载自www.chauncywu.com 从输入URL到页面渲染完成原文-英文译文  推荐阅读《图解HTTP》  各种协议与HTTP协议的关系(参照该图理解下文)                                                                                             0-1              1. 输入URL地">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://tanyibing.com/img/2017-12-20-从输入URL到页面渲染完成/0-1.png">
<meta property="og:image" content="http://tanyibing.com/img/2017-12-20-从输入URL到页面渲染完成/1-1.png">
<meta property="og:image" content="http://tanyibing.com/img/2017-12-20-从输入URL到页面渲染完成/2-1.png">
<meta property="og:image" content="http://tanyibing.com/img/2017-12-20-从输入URL到页面渲染完成/2-2.png">
<meta property="og:image" content="http://tanyibing.com/img/2017-12-20-从输入URL到页面渲染完成/2-3.png">
<meta property="og:image" content="http://tanyibing.com/img/2017-12-20-从输入URL到页面渲染完成/2-4.jpg">
<meta property="og:image" content="http://tanyibing.com/img/2017-12-20-从输入URL到页面渲染完成/3-1.png">
<meta property="og:image" content="http://tanyibing.com/img/2017-12-20-从输入URL到页面渲染完成/3-2.png">
<meta property="og:image" content="http://tanyibing.com/img/2017-12-20-从输入URL到页面渲染完成/3-2-1.png">
<meta property="og:image" content="http://tanyibing.com/img/2017-12-20-从输入URL到页面渲染完成/3-2-2.png">
<meta property="og:image" content="http://tanyibing.com/img/2017-12-20-从输入URL到页面渲染完成/3-2-3.jpg">
<meta property="og:image" content="http://tanyibing.com/img/2017-12-20-从输入URL到页面渲染完成/3-3.png">
<meta property="og:updated_time" content="2018-08-21T16:08:32.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="从输入URL到页面渲染完成">
<meta name="twitter:description" content="转载自www.chauncywu.com 从输入URL到页面渲染完成原文-英文译文  推荐阅读《图解HTTP》  各种协议与HTTP协议的关系(参照该图理解下文)                                                                                             0-1              1. 输入URL地">
<meta name="twitter:image" content="http://tanyibing.com/img/2017-12-20-从输入URL到页面渲染完成/0-1.png">
    
        <link rel="alternate" type="application/atom+xml" title="Icon&#39;s blog" href="/atom.xml">
    
    <link rel="shortcut icon" href="/img/avatar_before.jpg">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@latest/css/style.css">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">Icon(Tan Yibing)</h5>
          <a href="mailto:tanyibing1995@gmail.com" title="tanyibing1995@gmail.com" class="mail">tanyibing1995@gmail.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                归档
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                标签
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                分类
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/TanYiBing" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://weibo.com/u/5341296740?refer_flag=1005055010_" target="_blank" >
                <i class="icon icon-lg icon-weibo"></i>
                Weibo
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/friendLink"  >
                <i class="icon icon-lg icon-users"></i>
                友链
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">从输入URL到页面渲染完成</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
        
            <a id="header-high" style="text-decoration: none; margin-left:12px; width:71px; margin-right:5px" class="header-icon waves-effect waves-circle waves-light" onclick="javascript:(    /*     * Copyright (C) 2015 Rocko (rocko.xyz) <rocko.zxp@gmail.com>     *     * Licensed under the Apache License, Version 2.0 (the 'License');     * you may not use this file except in compliance with the License.     * You may obtain a copy of the License at     *     *      http://www.apache.org/licenses/LICENSE-2.0     *     * Unless required by applicable law or agreed to in writing, software     * distributed under the License is distributed on an 'AS IS' BASIS,     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.     * See the License for the specific language governing permissions and     * limitations under the License.     */    function go() {        function c() {        var e = document.createElement('link');        e.setAttribute('type', 'text/css');        e.setAttribute('rel', 'stylesheet');        e.setAttribute('href', f);        e.setAttribute('class', l);        document.body.appendChild(e)    }     function h() {        var e = document.getElementsByClassName(l);        for (var t = 0; t < e.length; t++) {            document.body.removeChild(e[t])        }    }     function p() {        var e = document.createElement('div');        e.setAttribute('class', a);        document.body.appendChild(e);        setTimeout(function() {            document.body.removeChild(e)        }, 100)    }     function d(e) {        return {            height : e.offsetHeight,            width : e.offsetWidth        }    }     function v(i) {        var s = d(i);        return s.height > e &amp;&amp; s.height < n &amp;&amp; s.width > t &amp;&amp; s.width < r    }     function m(e) {        var t = e;        var n = 0;        while (!!t) {            n += t.offsetTop;            t = t.offsetParent        }        return n    }     function g() {        var e = document.documentElement;        if (!!window.innerWidth) {            return window.innerHeight        } else if (e &amp;&amp; !isNaN(e.clientHeight)) {            return e.clientHeight        }        return 0    }     function y() {        if (window.pageYOffset) {            return window.pageYOffset        }        return Math.max(document.documentElement.scrollTop, document.body.scrollTop)    }     function E(e) {        var t = m(e);        return t >= w &amp;&amp; t <= b + w    }     var songs = [               'http://rocko-blog.qiniudn.com/Music-Wake-Live.mp3' ,     'http://rocko-blog.qiniudn.com/Music-Fashion_Show.mp3'           ,                'http://rocko-blog.qiniudn.com/Music-outside.mp3',                'http://rocko-blog.qiniudn.com/Music-sunburst.mp3'    ];    function S() {        var e = document.getElementById('audio_element_id');        if(e != null){            var index = parseInt(e.getAttribute('curSongIndex'));            if(index > songs.length - 2) {                index = 0;            } else {                index++;            }            e.setAttribute('curSongIndex', index);            N();        }        e.src = i;        e.play()    }     function x(e) {        e.className += ' ' + s + ' ' + o    }     function T(e) {        e.className += ' ' + s + ' ' + u[Math.floor(Math.random() * u.length)]    }     function N() {        var e = document.getElementsByClassName(s);        var t = new RegExp('\\b' + s + '\\b');        for (var n = 0; n < e.length; ) {            e[n].className = e[n].className.replace(t, '')        }    }    function initAudioEle() {        var e = document.getElementById('audio_element_id');        if(e === null){            e = document.createElement('audio');            e.setAttribute('class', l);            e.setAttribute('curSongIndex', 0);            e.id = 'audio_element_id';            e.loop = false;            e.bgcolor = 0;            e.addEventListener('canplay', function() {            setTimeout(function() {                x(k)            }, 500);            setTimeout(function() {                N();                p();                for (var e = 0; e < O.length; e++) {                    T(O[e])                }            }, 15500)        }, true);        e.addEventListener('ended', function() {            N();            h();            go();        }, true);        e.innerHTML = ' <p>If you are reading this, it is because your browser does not support the audio element. We recommend that you get a new browser.</p> <p>';        document.body.appendChild(e);        }    }        initAudioEle();    var e = 30;    var t = 30;    var n = 350;    var r = 350;    var curSongIndex = parseInt(document.getElementById('audio_element_id').getAttribute('curSongIndex'));    var i = songs[curSongIndex];        var s = 'mw-harlem_shake_me';    var o = 'im_first';    var u = ['im_drunk', 'im_baked', 'im_trippin', 'im_blown'];    var a = 'mw-strobe_light';    var f = 'https://rocko.xyz/css/harlem-shake-style.css';        var l = 'mw_added_css';    var b = g();    var w = y();    var C = document.getElementsByTagName('*');    var k = null;    for (var L = 0; L < C.length; L++) {        var A = C[L];        if (v(A)) {            if (E(A)) {                k = A;                break            }        }    }    if (A === null) {        console.warn('Could not find a node of the right size. Please try a different page.');        return    }    c();    S();    var O = [];    for (var L = 0; L < C.length; L++) {        var A = C[L];        if (v(A)) {            O.push(A)        }    }    })()">
        <i class="icon icon-lg icon-music"></i> High~
        </a>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">从输入URL到页面渲染完成</h1>
        <h5 class="subtitle">
            
                <time datetime="2018-02-20T10:09:24.000Z" itemprop="datePublished" class="page-time">
  2018-02-20
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/HTTP/">HTTP</a></li></ul>

            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#从输入URL到页面渲染完成"><span class="post-toc-number">1.</span> <span class="post-toc-text">从输入URL到页面渲染完成</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#各种协议与HTTP协议的关系-参照该图理解下文"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">各种协议与HTTP协议的关系(参照该图理解下文)</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1-输入URL地址"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">1. 输入URL地址</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2-浏览器根据域名查询IP地址"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">2. 浏览器根据域名查询IP地址</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#扩展"><span class="post-toc-number">1.3.1.</span> <span class="post-toc-text">扩展</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#什么是DNS？"><span class="post-toc-number">1.3.1.1.</span> <span class="post-toc-text">什么是DNS？</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#DNS查询的两种方式：递归查询和迭代查询"><span class="post-toc-number">1.3.1.2.</span> <span class="post-toc-text">DNS查询的两种方式：递归查询和迭代查询</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#1、递归解析"><span class="post-toc-number">1.3.1.2.1.</span> <span class="post-toc-text">1、递归解析</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#2、迭代解析"><span class="post-toc-number">1.3.1.2.2.</span> <span class="post-toc-text">2、迭代解析</span></a></li></ol></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#DNS域名称空间的组织方式"><span class="post-toc-number">1.3.1.3.</span> <span class="post-toc-text">DNS域名称空间的组织方式</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#3-浏览器发送HTTP请求到web服务器"><span class="post-toc-number">1.4.</span> <span class="post-toc-text">3. 浏览器发送HTTP请求到web服务器</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#HTTP请求报文"><span class="post-toc-number">1.4.1.</span> <span class="post-toc-text">HTTP请求报文</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#确保可靠性的TCP协议"><span class="post-toc-number">1.4.2.</span> <span class="post-toc-text">确保可靠性的TCP协议</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#扩展-1"><span class="post-toc-number">1.4.2.1.</span> <span class="post-toc-text">扩展</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#TCP三次握手"><span class="post-toc-number">1.4.2.1.1.</span> <span class="post-toc-text">TCP三次握手</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#为什需要三次握手？"><span class="post-toc-number">1.4.2.1.2.</span> <span class="post-toc-text">为什需要三次握手？</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#TCP四次挥手"><span class="post-toc-number">1.4.2.1.3.</span> <span class="post-toc-text">TCP四次挥手</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#为什么建立连接是三次握手，而关闭连接却是四次挥手呢？"><span class="post-toc-number">1.4.2.1.4.</span> <span class="post-toc-text">为什么建立连接是三次握手，而关闭连接却是四次挥手呢？</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#什么是反向代理？"><span class="post-toc-number">1.4.2.1.5.</span> <span class="post-toc-text">什么是反向代理？</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#负责传输的IP协议"><span class="post-toc-number">1.4.3.</span> <span class="post-toc-text">负责传输的IP协议</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#4-Facebook服务器返回一个永久重定向响应"><span class="post-toc-number">1.5.</span> <span class="post-toc-text">4. Facebook服务器返回一个永久重定向响应</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#扩展-2"><span class="post-toc-number">1.5.1.</span> <span class="post-toc-text">扩展</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#301和302的区别："><span class="post-toc-number">1.5.1.1.</span> <span class="post-toc-text">301和302的区别：</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#重定向原因："><span class="post-toc-number">1.5.1.2.</span> <span class="post-toc-text">重定向原因：</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#什么时候进行301或者302跳转呢？"><span class="post-toc-number">1.5.1.3.</span> <span class="post-toc-text">什么时候进行301或者302跳转呢？</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#5-浏览器会跟踪重定向地址"><span class="post-toc-number">1.6.</span> <span class="post-toc-text">5. 浏览器会跟踪重定向地址</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#6-服务器处理请求"><span class="post-toc-number">1.7.</span> <span class="post-toc-text">6. 服务器处理请求</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#怎么存储数据是每个动态网站都会面临的有趣难题"><span class="post-toc-number">1.7.1.</span> <span class="post-toc-text">怎么存储数据是每个动态网站都会面临的有趣难题</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#推迟一些任务到批处理作业是廉价保持数据更新的的一种技术。"><span class="post-toc-number">1.7.2.</span> <span class="post-toc-text">推迟一些任务到批处理作业是廉价保持数据更新的的一种技术。</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#7-服务器返回一个HTML响应"><span class="post-toc-number">1.8.</span> <span class="post-toc-text">7.服务器返回一个HTML响应</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#8-浏览器开始渲染HTML"><span class="post-toc-number">1.9.</span> <span class="post-toc-text">8. 浏览器开始渲染HTML</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#9-浏览器发送嵌入在HTML中的对象的请求"><span class="post-toc-number">1.10.</span> <span class="post-toc-text">9. 浏览器发送嵌入在HTML中的对象的请求</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#10-浏览器发送异步请求"><span class="post-toc-number">1.11.</span> <span class="post-toc-text">10. 浏览器发送异步请求</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#相关阅读："><span class="post-toc-number">1.12.</span> <span class="post-toc-text">相关阅读：</span></a></li></ol></li></ol>
        </nav>
    </aside>


<article id="post-从输入URL到页面渲染完成"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">从输入URL到页面渲染完成</h1>
        <div class="post-meta">
            <time class="post-time" title="2018-02-20 18:09:24" datetime="2018-02-20T10:09:24.000Z"  itemprop="datePublished">2018-02-20</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/HTTP/">HTTP</a></li></ul>



            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <p><strong><em>转载自<a href="http://chauncywu.com" target="_blank" rel="noopener">www.chauncywu.com</a></em></strong></p>
<h1 id="从输入URL到页面渲染完成"><a href="#从输入URL到页面渲染完成" class="headerlink" title="从输入URL到页面渲染完成"></a>从输入URL到页面渲染完成</h1><p><a href="http://igoro.com/archive/what-really-happens-when-you-navigate-to-a-url/" target="_blank" rel="noopener">原文-英文</a><br><a href="http://blog.csdn.net/allenliu6/article/details/70313492" target="_blank" rel="noopener">译文</a></p>
<blockquote>
<p>推荐阅读《图解HTTP》</p>
</blockquote>
<h2 id="各种协议与HTTP协议的关系-参照该图理解下文"><a href="#各种协议与HTTP协议的关系-参照该图理解下文" class="headerlink" title="各种协议与HTTP协议的关系(参照该图理解下文)"></a>各种协议与HTTP协议的关系(参照该图理解下文)</h2><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/2017-12-20-从输入URL到页面渲染完成/0-1.png" alt="0-1" title="">
                </div>
                <div class="image-caption">0-1</div>
            </figure>
<h2 id="1-输入URL地址"><a href="#1-输入URL地址" class="headerlink" title="1. 输入URL地址"></a>1. 输入URL地址</h2><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/2017-12-20-从输入URL到页面渲染完成/1-1.png" alt="1-1" title="">
                </div>
                <div class="image-caption">1-1</div>
            </figure>
<h2 id="2-浏览器根据域名查询IP地址"><a href="#2-浏览器根据域名查询IP地址" class="headerlink" title="2. 浏览器根据域名查询IP地址"></a>2. 浏览器根据域名查询IP地址</h2><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/2017-12-20-从输入URL到页面渲染完成/2-1.png" alt="2-1" title="">
                </div>
                <div class="image-caption">2-1</div>
            </figure>
<p>从要访问的域名中获取IP地址，DNS查询的步骤如下：</p>
<ol>
<li>从浏览器缓存中查询。浏览器会存储一定时间的DNS记录，操作系统不会告诉浏览器每个DNS记录的保存时限，不同浏览器设置保存时限为一个固定值（不同浏览器情况不同，一般在2-30分钟）。</li>
<li>从操作系统缓存中查询。如果浏览器中没有包含想要的缓存记录，那浏览器就会发起操作系统请求，继续查询操作系统缓存</li>
<li>从路由器中查询DNS缓存。请求持续发送到你的路由，它通常会有自己的DNS缓存。</li>
<li>从ISP中查询DNS缓存。下一个被查询地方是ISP缓存DNS的服务器。</li>
<li>域名服务器递归查询。首先从root域名服务器中查询如.com域名服务器，然后逐步向前查询，.com顶级域名服务器到Facebook的域名服务器。一般来说，.com级别的都已经在缓存中了，所以一般不会进行对root域名服务器的查询。下面给出一张递归查询的图。<a id="more"></a>
<h3 id="扩展"><a href="#扩展" class="headerlink" title="扩展"></a>扩展</h3><h4 id="什么是DNS？"><a href="#什么是DNS？" class="headerlink" title="什么是DNS？"></a>什么是DNS？</h4>DNS（Domain Name System，域名系统），因特网上作为域名和IP地址相互映射的一个分布式数据库，能够使用户更方便的访问互联网，而不用去记住能够被机器直接读取的IP数串。通过主机名，最终得到该主机名对应的IP地址的过程叫做域名解析（或主机名解析）。</li>
</ol>
<h4 id="DNS查询的两种方式：递归查询和迭代查询"><a href="#DNS查询的两种方式：递归查询和迭代查询" class="headerlink" title="DNS查询的两种方式：递归查询和迭代查询"></a>DNS查询的两种方式：递归查询和迭代查询</h4><h5 id="1、递归解析"><a href="#1、递归解析" class="headerlink" title="1、递归解析"></a>1、递归解析</h5><p>当局部DNS服务器自己不能回答客户机的DNS查询时，它就需要向其他DNS服务器进行查询。<br>此时有两种方式，如图所示的是递归方式。<br>局部DNS服务器自己负责向其他DNS服务器进行查询，一般是先向该域名的根域服务器查询，再由根域名服务器一级级向下查询。<br>最后得到的查询结果返回给局部DNS服务器，再由局部DNS服务器返回给客户端。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/2017-12-20-从输入URL到页面渲染完成/2-2.png" alt="2-2" title="">
                </div>
                <div class="image-caption">2-2</div>
            </figure>
<h5 id="2、迭代解析"><a href="#2、迭代解析" class="headerlink" title="2、迭代解析"></a>2、迭代解析</h5><p>当局部DNS服务器自己不能回答客户机的DNS查询时，也可以通过迭代查询的方式进行解析，如图所示。<br>局部DNS服务器不是自己向其他DNS服务器进行查询，而是把能解析该域名的其他DNS服务器的IP地址返回给客户端DNS程序，客户端DNS程序再继续向这些DNS服务器进行查询，直到得到查询结果为止。<br>也就是说，迭代解析只是帮你找到相关的服务器而已，而不会帮你去查。<br>比如说：baidu.com的服务器ip地址在192.168.4.5这里，你自己去查吧，本人比较忙，只能帮你到这里了。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/2017-12-20-从输入URL到页面渲染完成/2-3.png" alt="2-3" title="">
                </div>
                <div class="image-caption">2-3</div>
            </figure>
<h4 id="DNS域名称空间的组织方式"><a href="#DNS域名称空间的组织方式" class="headerlink" title="DNS域名称空间的组织方式"></a>DNS域名称空间的组织方式</h4><p>我们在前面有说到根DNS服务器，域DNS服务器，这些都是DNS域名称空间的组织方式。<br>按其功能命名空间中用来描述 DNS 域名称的五个类别的介绍详见下表中，以及与每个名称类型的示例:</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/2017-12-20-从输入URL到页面渲染完成/2-4.jpg" alt="2-4" title="">
                </div>
                <div class="image-caption">2-4</div>
            </figure>
<h2 id="3-浏览器发送HTTP请求到web服务器"><a href="#3-浏览器发送HTTP请求到web服务器" class="headerlink" title="3. 浏览器发送HTTP请求到web服务器"></a>3. 浏览器发送HTTP请求到web服务器</h2><p>向 <code>http://facebook.com/</code> 发出GET请求</p>
<h3 id="HTTP请求报文"><a href="#HTTP请求报文" class="headerlink" title="HTTP请求报文"></a>HTTP请求报文</h3><p>在请求中，HTTP报文首部由方法、URI、HTTP版本、HTTP首部字段等构成。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/2017-12-20-从输入URL到页面渲染完成/3-1.png" alt="3-1" title="">
                </div>
                <div class="image-caption">3-1</div>
            </figure>
<h3 id="确保可靠性的TCP协议"><a href="#确保可靠性的TCP协议" class="headerlink" title="确保可靠性的TCP协议"></a>确保可靠性的TCP协议</h3><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/2017-12-20-从输入URL到页面渲染完成/3-2.png" alt="3-2" title="">
                </div>
                <div class="image-caption">3-2</div>
            </figure>
<h4 id="扩展-1"><a href="#扩展-1" class="headerlink" title="扩展"></a>扩展</h4><h5 id="TCP三次握手"><a href="#TCP三次握手" class="headerlink" title="TCP三次握手"></a>TCP三次握手</h5><ul>
<li><p>第一次握手：<br>  客户端A将标志位SYN置为1,随机产生一个值为seq=J（J的取值范围为=1234567）的数据包到服务器，客户端A进入SYN_SENT状态，等待服务端B确认；</p>
</li>
<li><p>第二次握手：<br>  服务端B收到数据包后由标志位SYN=1知道客户端A请求建立连接，服务端B将标志位SYN和ACK都置为1，ack=J+1，随机产生一个值seq=K，并将该数据包发送给客户端A以确认连接请求，服务端B进入SYN_RCVD状态。</p>
</li>
<li><p>第三次握手：<br>  客户端A收到确认后，检查ack是否为J+1，ACK是否为1，如果正确则将标志位ACK置为1，ack=K+1，并将该数据包发送给服务端B，服务端B检查ack是否为K+1，ACK是否为1，如果正确则连接建立成功，客户端A和服务端B进入ESTABLISHED状态，完成三次握手，随后客户端A与服务端B之间可以开始传输数据了。</p>
</li>
</ul>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/2017-12-20-从输入URL到页面渲染完成/3-2-1.png" alt="3-2-1" title="">
                </div>
                <div class="image-caption">3-2-1</div>
            </figure>
<h5 id="为什需要三次握手？"><a href="#为什需要三次握手？" class="headerlink" title="为什需要三次握手？"></a>为什需要三次握手？</h5><p>《计算机网络》第四版中讲“三次握手”的目的是“为了防止已失效的连接请求报文段突然又传送到了服务端，因而产生错误”</p>
<p>书中的例子是这样的，“已失效的连接请求报文段”的产生在这样一种情况下：client发出的第一个连接请求报文段并没有丢失，而是在某个网络结点长时间的滞留了，以致延误到连接释放以后的某个时间才到达server。<br>本来这是一个早已失效的报文段。但server收到此失效的连接请求报文段后，就误认为是client再次发出的一个新的连接请求。于是就向client发出确认报文段，同意建立连接。</p>
<p>假设不采用“三次握手”，那么只要server发出确认，新的连接就建立了。由于现在client并没有发出建立连接的请求，因此不会理睬server的确认，也不会向server发送数据。但server却以为新的运输连接已经建立，并一直等待client发来数据。这样，server的很多资源就白白浪费掉了。采用“三次握手”的办法可以防止上述现象发生。</p>
<p>例如刚才那种情况，client不会向server的确认发出确认。server由于收不到确认，就知道client并没有要求建立连接。”。主要目的防止server端一直等待，浪费资源。</p>
<h5 id="TCP四次挥手"><a href="#TCP四次挥手" class="headerlink" title="TCP四次挥手"></a>TCP四次挥手</h5><ul>
<li><p>第一次挥手：<br>  Client发送一个FIN，用来关闭Client到Server的数据传送，Client进入FIN_WAIT_1状态。</p>
</li>
<li><p>第二次挥手：<br>  Server收到FIN后，发送一个ACK给Client，确认序号为收到序号+1（与SYN相同，一个FIN占用一个序号），Server进入CLOSE_WAIT状态。</p>
</li>
<li><p>第三次挥手：<br>  Server发送一个FIN，用来关闭Server到Client的数据传送，Server进入LAST_ACK状态。</p>
</li>
<li><p>第四次挥手：<br>  Client收到FIN后，Client进入TIME_WAIT状态，接着发送一个ACK给Server，确认序号为收到序号+1，Server进入CLOSED状态，完成四次挥手。</p>
</li>
</ul>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/2017-12-20-从输入URL到页面渲染完成/3-2-2.png" alt="3-2-2" title="">
                </div>
                <div class="image-caption">3-2-2</div>
            </figure>
<h5 id="为什么建立连接是三次握手，而关闭连接却是四次挥手呢？"><a href="#为什么建立连接是三次握手，而关闭连接却是四次挥手呢？" class="headerlink" title="为什么建立连接是三次握手，而关闭连接却是四次挥手呢？"></a>为什么建立连接是三次握手，而关闭连接却是四次挥手呢？</h5><p>这是因为服务端在LISTEN状态下，收到建立连接请求的SYN报文后，把ACK和SYN放在一个报文里发送给客户端。</p>
<p>而关闭连接时，当收到对方的FIN报文时，仅仅表示对方不再发送数据了但是还能接收数据，己方也未必全部数据都发送给对方了，所以己方可以立即close，也可以发送一些数据给对方后，再发送FIN报文给对方来表示同意现在关闭连接，因此，己方ACK和FIN一般都会分开发送。</p>
<h5 id="什么是反向代理？"><a href="#什么是反向代理？" class="headerlink" title="什么是反向代理？"></a>什么是反向代理？</h5><p>客户端本来可以直接通过HTTP协议访问某网站应用服务器，网站管理员可以在中间加上一个Nginx，客户端请求Nginx，Nginx请求应用服务器，然后将结果返回给客户端，此时Nginx就是反向代理服务器。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/2017-12-20-从输入URL到页面渲染完成/3-2-3.jpg" alt="3-2-3" title="">
                </div>
                <div class="image-caption">3-2-3</div>
            </figure>
<h3 id="负责传输的IP协议"><a href="#负责传输的IP协议" class="headerlink" title="负责传输的IP协议"></a>负责传输的IP协议</h3><ul>
<li>IP间的通信依赖MAC地址</li>
<li>ARP协议：(Address Resolution Protocol)用以解析地址的协议，根据通信方的IP地址就可以反查出对应的MAC地址</li>
</ul>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="/img/2017-12-20-从输入URL到页面渲染完成/3-3.png" alt="3-3" title="">
                </div>
                <div class="image-caption">3-3</div>
            </figure>
<h2 id="4-Facebook服务器返回一个永久重定向响应"><a href="#4-Facebook服务器返回一个永久重定向响应" class="headerlink" title="4. Facebook服务器返回一个永久重定向响应"></a>4. Facebook服务器返回一个永久重定向响应</h2><p>服务器会发送一个301永久重定向响应来告诉浏览器访问 <code>http://www.facebook.com/</code> 而不是 <code>http://facebook.com/</code>。</p>
<p>为什么服务器坚持重定向而不是直接给予浏览器用户需要的结果，这有很多有意思原因:</p>
<ul>
<li>一个原因是搜索引擎排名，如果有两个URLs指向同一个页面，比如 <code>http://www.igoro.com/</code> 和 <code>http://igoro.com/</code> ,搜索引擎会认为这是两个不同的网站，结果他们两个每个都有一部分访问量，但是也只能拥有更低的搜索引擎排名。如果使用了301定位，搜索引擎将会识别重定向，进而将同一来源的多个链接算作一个。</li>
<li>另一个原因是，同样的内容多个URLs还不利于缓存，同样的内容拥有多个名字，潜在造成缓存浪费。</li>
</ul>
<h3 id="扩展-2"><a href="#扩展-2" class="headerlink" title="扩展"></a>扩展</h3><h4 id="301和302的区别："><a href="#301和302的区别：" class="headerlink" title="301和302的区别："></a>301和302的区别：</h4><p>301和302状态码都表示重定向，就是说浏览器在拿到服务器返回的这个状态码后会自动跳转到一个新的URL地址，这个地址可以从响应的Location首部中获取（用户看到的效果就是他输入的地址A瞬间变成了另一个地址B）——这是它们的共同点。</p>
<p>他们的不同在于。301表示旧地址A的资源已经被永久地移除了（这个资源不可访问了），搜索引擎在抓取新内容的同时也将旧的网址换为重定向之后的网址；</p>
<p>302表示旧地址A的资源还在（仍然可以访问），这个重定向只是临时地从旧地址A跳转到地址B，搜索引擎会抓取新的内容而保存旧的网址。 SEO 302好于301</p>
<h4 id="重定向原因："><a href="#重定向原因：" class="headerlink" title="重定向原因："></a>重定向原因：</h4><ul>
<li>网站调整（如改变网页目录结构）；</li>
<li>网页被移到一个新地址；</li>
<li>网页扩展名改变(如应用需要把.php改成.Html或.shtml)。<br>  这种情况下，如果不做重定向，则用户收藏夹或搜索引擎数据库中旧地址只能让访问客户得到一个404页面错误信息，访问流量白白丧失；再者某些注册了多个域名的网站，也需要通过重定向让访问这些域名的用户自动跳转到主站点等。</li>
</ul>
<h4 id="什么时候进行301或者302跳转呢？"><a href="#什么时候进行301或者302跳转呢？" class="headerlink" title="什么时候进行301或者302跳转呢？"></a>什么时候进行301或者302跳转呢？</h4><p>当一个网站或者网页24—48小时内临时移动到一个新的位置，这时候就要进行302跳转，而使用301跳转的场景就是之前的网站因为某种原因需要移除掉，然后要到新的地址访问，是永久性的。</p>
<p>清晰明确而言：使用301跳转的大概场景如下：</p>
<p>1、 域名到期不想续费（或者发现了更适合网站的域名），想换个域名。<br>2、 在搜索引擎的搜索结果中出现了不带www的域名，而带www的域名却没有收录，这个时候可以用301重定向来告诉搜索引擎我们目标的域名是哪一个。<br>3、 空间服务器不稳定，换空间的时候。</p>
<h2 id="5-浏览器会跟踪重定向地址"><a href="#5-浏览器会跟踪重定向地址" class="headerlink" title="5. 浏览器会跟踪重定向地址"></a>5. 浏览器会跟踪重定向地址</h2><p>浏览器知道了 <code>http://www.facebook.com/</code> 是真正应该访问的URL，所以就发送了另外一个GET请求。</p>
<h2 id="6-服务器处理请求"><a href="#6-服务器处理请求" class="headerlink" title="6. 服务器处理请求"></a>6. 服务器处理请求</h2><p>服务器会接收这个GET请求，并且返回一个响应结果</p>
<h3 id="怎么存储数据是每个动态网站都会面临的有趣难题"><a href="#怎么存储数据是每个动态网站都会面临的有趣难题" class="headerlink" title="怎么存储数据是每个动态网站都会面临的有趣难题"></a>怎么存储数据是每个动态网站都会面临的有趣难题</h3><p>小网站会经常有一个SQL数据库来存储他们的数据，但是网站存储数据量过大或者流量过大后就必须将数据库分布在多台机器，解决的方法有很多种</p>
<p>包括sharding(在主键基础上划分表到多个数据库中)，复制和使用简化的弱语义一致性数据库</p>
<h3 id="推迟一些任务到批处理作业是廉价保持数据更新的的一种技术。"><a href="#推迟一些任务到批处理作业是廉价保持数据更新的的一种技术。" class="headerlink" title="推迟一些任务到批处理作业是廉价保持数据更新的的一种技术。"></a>推迟一些任务到批处理作业是廉价保持数据更新的的一种技术。</h3><p>例如，Facebook必须尽快更新新闻供应，但数据支持的“你可能认识的人”功能可能只需要每晚进行更新（作者猜测是这样）。批处理作业的更新导致存在一些旧的相对不重要的数据，但是使数据更新更快更简单。</p>
<h2 id="7-服务器返回一个HTML响应"><a href="#7-服务器返回一个HTML响应" class="headerlink" title="7.服务器返回一个HTML响应"></a>7.服务器返回一个HTML响应</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Cache-Control: private, no-store, no-cache, must-revalidate, post-check=0,</span><br><span class="line">    pre-check=0</span><br><span class="line">Expires: Sat, 01 Jan 2000 00:00:00 GMT</span><br><span class="line">P3P: CP=&quot;DSP LAW&quot;</span><br><span class="line">Pragma: no-cache</span><br><span class="line">Content-Encoding: gzip</span><br><span class="line">Content-Type: text/html; charset=utf-8</span><br><span class="line">X-Cnection: close</span><br><span class="line">Transfer-Encoding: chunked</span><br><span class="line">Date: Fri, 12 Feb 2010 09:05:55 GMT</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>整个完整的响应是36KB，其中大部分处理后由blob类型传送<br>内容编码头部告诉浏览器响应体使用了gzip压缩算法。在解析blob后，你就会看到你期望的HTML了。</p>
<h2 id="8-浏览器开始渲染HTML"><a href="#8-浏览器开始渲染HTML" class="headerlink" title="8. 浏览器开始渲染HTML"></a>8. 浏览器开始渲染HTML</h2><p>在浏览器接收完整HTML文件前，浏览器就开始渲染页面了。</p>
<h2 id="9-浏览器发送嵌入在HTML中的对象的请求"><a href="#9-浏览器发送嵌入在HTML中的对象的请求" class="headerlink" title="9. 浏览器发送嵌入在HTML中的对象的请求"></a>9. 浏览器发送嵌入在HTML中的对象的请求</h2><p>随着浏览器渲染HTML，浏览器会注意到有些标签需要请求其他URLs的资源，浏览器将会发送一个GET请求来重新获取每个文件 。</p>
<h2 id="10-浏览器发送异步请求"><a href="#10-浏览器发送异步请求" class="headerlink" title="10. 浏览器发送异步请求"></a>10. 浏览器发送异步请求</h2><p>在web2.0时代，即使在页面渲染后客户端还是持续与服务器端通信。</p>
<p>例如，当你的朋友上线或下线时，Facebook聊天功能将会持续更新你已经登录的朋友列表。为了更新这个列表，你浏览器上运行的JS将会发送异步请求到服务器，异步请求是发送给特殊URL的GET或POST请求。在Facebook的例子中，客户端会发送一个POST请求到 <code>http://www.facebook.com/ajax/chat/buddy_list.php</code> ，获取你在线的朋友列表</p>
<p>这个模式被称为AJAX，是“Asynchronous JavaScript And XML”,的缩写，虽然不太清楚为什么服务器必须将响应格式化为xml。</p>
<h2 id="相关阅读："><a href="#相关阅读：" class="headerlink" title="相关阅读："></a>相关阅读：</h2><p><a href="http://blog.csdn.net/czp11210/article/details/25193791" target="_blank" rel="noopener">当你访问淘宝的时候，发生了什么？</a></p>

        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        
<span class="post-time">
    最后更新时间：<time datetime="2018-08-21T16:08:32.000Z" itemprop="dateUpdated">2018-08-22 00:08:32</time>
</span><br>


        
        除特别说明外，文章均采用「知识共享 署名 - 非商业性 - 相同方式共享 4.0 协议」进行许可，转载需注明文章出处：<a href="/2018/02/20/从输入URL到页面渲染完成/" target="_blank" rel="external">http://tanyibing.com/2018/02/20/从输入URL到页面渲染完成/</a>
        
    </div>
    
    <footer>
        <a href="http://tanyibing.com">
            <img src="/img/avatar.jpg" alt="Icon(Tan Yibing)">
            Icon(Tan Yibing)
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HTTP/">HTTP</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/URL/">URL</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/前端/">前端</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/服务器/">服务器</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/计算机网络/">计算机网络</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://tanyibing.com/2018/02/20/从输入URL到页面渲染完成/&title=《从输入URL到页面渲染完成》 — Icon's blog&pic=http://tanyibing.com/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://tanyibing.com/2018/02/20/从输入URL到页面渲染完成/&title=《从输入URL到页面渲染完成》 — Icon's blog&source=转载自www.chauncywu.com
从输入URL到页面渲染完成原文-英文译文

推荐阅读《图解HTTP》

各种协议与HTTP协议的关系(参照该图理..." data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://tanyibing.com/2018/02/20/从输入URL到页面渲染完成/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《从输入URL到页面渲染完成》 — Icon's blog&url=http://tanyibing.com/2018/02/20/从输入URL到页面渲染完成/&via=http://tanyibing.com" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://tanyibing.com/2018/02/20/从输入URL到页面渲染完成/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/2018/03/26/PHP中Session的清除和销毁-1/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">PHP中Session的清除和销毁</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/2017/12/28/hadoop单机配置、运行/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">hadoop单机安装、运行</h4>
      </a>
    </div>
  
</nav>



    











    <!-- Valine Comments -->
    <div class="comments vcomment" id="comments"></div>
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
    <script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script>
    <!-- Valine Comments script -->
    <script>
        var GUEST_INFO = ['nick','mail','link'];
        var guest_info = 'nick,mail'.split(',').filter(function(item){
          return GUEST_INFO.indexOf(item) > -1
        });
        new Valine({
            el: '#comments',
            notify: 'false' == 'true',
            verify: 'false' == 'true',
            appId: "4rdRChJgomStDCzm3AqViMI2-gzGzoHsz",
            appKey: "4cekfBC0l7ePUjMgoIGow6DC",
            avatar: "mm",
            placeholder: "要不要说点什么？",
            guest_info: guest_info.length == 0 ? GUEST_INFO : guest_info,
            pageSize: "10"
        })
    </script>
    <!-- Valine Comments end -->







</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        谢谢大爷~
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/img/wechat.jpg" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="/img/wechat.jpg" data-alipay="/img/alipay.jpg">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>博客内容遵循 <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span>
        </p>
    </div>
    <div class="bottom">
        <p><span>Icon(Tan Yibing) &copy; 2017 - 2018</span>
            <span>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://tanyibing.com/2018/02/20/从输入URL到页面渲染完成/&title=《从输入URL到页面渲染完成》 — Icon's blog&pic=http://tanyibing.com/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://tanyibing.com/2018/02/20/从输入URL到页面渲染完成/&title=《从输入URL到页面渲染完成》 — Icon's blog&source=转载自www.chauncywu.com
从输入URL到页面渲染完成原文-英文译文

推荐阅读《图解HTTP》

各种协议与HTTP协议的关系(参照该图理..." data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://tanyibing.com/2018/02/20/从输入URL到页面渲染完成/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《从输入URL到页面渲染完成》 — Icon's blog&url=http://tanyibing.com/2018/02/20/从输入URL到页面渲染完成/&via=http://tanyibing.com" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://tanyibing.com/2018/02/20/从输入URL到页面渲染完成/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACt0lEQVR42u3aQW7CQAwFUO5/6VbqqlJL8m2PgcXLCgEl87IYu9/zeMTX18/1+/Xv6+/719/8+5vP7nL9/WMXHh4eXmvpz67rm/UWlLAT/PWa8fDw8LZ5STFINuh8cdd3TIpQ8gt4eHh47+U93Xxb7Xi0uPEDwsPDw3svLykDUZsbt+bV4oSHh4f3Sl4SRvQ27vzXkr9azFrw8PDwYl6vLX7v6/X5Hh4eHl5rqp5vvr0SkheS3mrx8PDwNnj5gvKwtTe+mrTjN+vBw8PDW+DlQ69qQFCNffNH2Ryk4eHh4Y15+b/9vaXnoe3ksMJNM42Hh4e3xuvdZj7m743fotKCh4eHt8zLN+7qInrteLWQ/PMOHh4e3hovWe4k6q2Ox8qt87NP8fDw8F7O68WpvVY4iRuqzToeHh7eBq8Xp04ORfXa92rxeEzSYjw8PLwir3zWIN7E58e2eoEIHh4e3jbvutmtHiDolYrk0zxcxsPDw9vgTTbrfFjV+7T3cB+nahEeHh7e5Wz97GmlUwOt3hEEPDw8vNfwJiFCrzD0hmEFPB4eHt4yLwkF5mWgN+LKC9VN3cPDw8Mb83qbe++YVDW2qBaqm1Xh4eHhHeXlo6wEmY/25+zoHTw8PLyjvHxgn2/H+ci/GnbkBxHKC8XDw8OLeXtbeX4wK48bmmvDw8PDW+BNAohT4/8khigwJpUHDw8PL+BV2+JeSFG9Y/4Ibv4KDw8Pb5mXt7a9MX/eCjcrW55G4+Hh4R2Clf+9b83c8u8nBaOcsuDh4eENeJOQYhLjVhvratSLh4eHt83LG9zJcOvs2KzwKPHw8PDWePNYoTpUy0vOZHSHh4eH9zm86hGo6kBrktDi4eHhfQ7vbPv7mpYdDw8Pb4+XD/Jz6tfgyhv3Y1kLHh4e3qHRV694zIvK/C54eHh4C7xv/Qt9glaz3YcAAAAASUVORK5CYII=" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };


</script>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/main.min.js"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/search.min.js" async></script>






<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = '死鬼去哪里了！';
            clearTimeout(titleTime);
        } else {
            document.title = '(つェ⊂)咦!又好了!';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>
